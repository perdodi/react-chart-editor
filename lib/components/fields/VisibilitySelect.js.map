{"version":3,"sources":["../../../src/components/fields/VisibilitySelect.js"],"names":["UnconnectedVisibilitySelect","props","context","setMode","bind","setLocals","mode","fullValue","undefined","MULTI_VALUED_PLACEHOLDER","defaultOpt","updateContainer","attr","dropdown","clearable","options","showOn","label","Array","isArray","includes","children","Component","propTypes","PropTypes","any","updatePlot","func","bool","oneOfType","number","string","array","Field","contextTypes","displayName"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {connectToContainer} from 'lib';\nimport {MULTI_VALUED_PLACEHOLDER} from 'lib/constants';\nimport Field from './Field';\nimport Radio from './Radio';\nimport Dropdown from './Dropdown';\n\nexport class UnconnectedVisibilitySelect extends Component {\n  constructor(props, context) {\n    super(props, context);\n\n    this.setMode = this.setMode.bind(this);\n    this.setLocals = this.setLocals.bind(this);\n\n    this.setLocals(props);\n  }\n\n  componentWillReceiveProps(props) {\n    this.setLocals(props);\n  }\n\n  setLocals(props) {\n    this.mode =\n      props.fullValue === undefined || props.fullValue === MULTI_VALUED_PLACEHOLDER // eslint-disable-line no-undefined\n        ? this.props.defaultOpt\n        : props.fullValue;\n  }\n\n  setMode(mode) {\n    this.props.updateContainer({[this.props.attr]: mode});\n  }\n\n  render() {\n    const {dropdown, clearable, options, showOn, attr, label} = this.props;\n\n    return (\n      <>\n        {dropdown ? (\n          <Dropdown\n            attr={attr}\n            label={label}\n            options={options}\n            fullValue={this.mode}\n            updatePlot={this.setMode}\n            clearable={clearable}\n          />\n        ) : (\n          <Radio\n            attr={attr}\n            label={label}\n            options={options}\n            fullValue={this.mode}\n            updatePlot={this.setMode}\n          />\n        )}\n        {(Array.isArray(showOn) && showOn.includes(this.mode)) || this.mode === showOn\n          ? this.props.children\n          : null}\n      </>\n    );\n  }\n}\n\nUnconnectedVisibilitySelect.propTypes = {\n  fullValue: PropTypes.any,\n  updatePlot: PropTypes.func,\n  dropdown: PropTypes.bool,\n  clearable: PropTypes.bool,\n  showOn: PropTypes.oneOfType([\n    PropTypes.number,\n    PropTypes.bool,\n    PropTypes.string,\n    PropTypes.array,\n  ]),\n  defaultOpt: PropTypes.oneOfType([PropTypes.number, PropTypes.bool, PropTypes.string]),\n  label: PropTypes.string,\n  attr: PropTypes.string,\n  ...Field.propTypes,\n};\n\nUnconnectedVisibilitySelect.contextTypes = {\n  updateContainer: PropTypes.func,\n};\n\nUnconnectedVisibilitySelect.displayName = 'UnconnectedVisibilitySelect';\n\nexport default connectToContainer(UnconnectedVisibilitySelect);\n"],"file":"VisibilitySelect.js"}