{"version":3,"sources":["../../../../src/components/containers/__tests__/TraceAccordion-test.js"],"names":["describe","it","fixture","fixtures","scatter","data","name","folds","onUpdate","jest","fn","find","PlotlyFold","expect","at","prop","toBe","beforeAddTrace","editor","simulate","toBeCalled","beforeDeleteTrace","update","mock","calls","traceIndexes"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;;;;;;;;;AAEAA,QAAQ,CAAC,kBAAD,EAAqB,YAAM;AACjCC,EAAAA,EAAE,CAAC,+CAAD,EAAkD,YAAM;AACxD,QAAMC,OAAO,GAAGC,oBAASC,OAAT,CAAiB;AAACC,MAAAA,IAAI,EAAE,CAAC;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAD;AAAP,KAAjB,CAAhB;;AAEA,QAAMC,KAAK,GAAG,sBACZ,6BAAC,qBAAD,oBAAoBL,OAApB;AAA6BM,MAAAA,QAAQ,EAAEC,IAAI,CAACC,EAAL;AAAvC,QACE,6BAAC,aAAD,QACE,6BAAC,gBAAD,QACE,6BAAC,kBAAD;AAAY,MAAA,IAAI,EAAC;AAAjB,MADF,CADF,CADF,CADY,EAQZC,IARY,CAQPC,YARO,CAAd;AAUAC,IAAAA,MAAM,CAACN,KAAK,CAACO,EAAN,CAAS,CAAT,EAAYC,IAAZ,CAAiB,MAAjB,CAAD,CAAN,CAAiCC,IAAjC,CAAsC,OAAtC;AACD,GAdC,CAAF;AAgBAf,EAAAA,EAAE,CAAC,gBAAD,EAAmB,YAAM;AACzB,QAAMC,OAAO,GAAGC,oBAASC,OAAT,CAAiB;AAACC,MAAAA,IAAI,EAAE,CAAC;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAD;AAAP,KAAjB,CAAhB;;AACA,QAAMW,cAAc,GAAGR,IAAI,CAACC,EAAL,EAAvB;AACA,QAAMQ,MAAM,GAAG,sBACb,6BAAC,qBAAD,oBAAoBhB,OAApB;AAA6Be,MAAAA,cAAc,EAAdA;AAA7B,QACE,6BAAC,aAAD,QACE,6BAAC,gBAAD;AAAgB,MAAA,MAAM;AAAtB,OACE,6BAAC,kBAAD;AAAY,MAAA,IAAI,EAAC;AAAjB,MADF,CADF,CADF,CADa,CAAf;AAUAC,IAAAA,MAAM,CAACP,IAAP,CAAY,sBAAZ,EAAoCQ,QAApC,CAA6C,OAA7C;AAEAN,IAAAA,MAAM,CAACI,cAAD,CAAN,CAAuBG,UAAvB;AACD,GAhBC,CAAF;AAkBAnB,EAAAA,EAAE,CAAC,mBAAD,EAAsB,YAAM;AAC5B,QAAMC,OAAO,GAAGC,oBAASC,OAAT,CAAiB;AAACC,MAAAA,IAAI,EAAE,CAAC;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAD;AAAP,KAAjB,CAAhB;;AACA,QAAMe,iBAAiB,GAAGZ,IAAI,CAACC,EAAL,EAA1B;AACA,QAAMQ,MAAM,GAAG,sBACb,6BAAC,qBAAD,oBAAoBhB,OAApB;AAA6BmB,MAAAA,iBAAiB,EAAjBA;AAA7B,QACE,6BAAC,aAAD,QACE,6BAAC,gBAAD;AAAgB,MAAA,MAAM;AAAtB,OACE,6BAAC,kBAAD;AAAY,MAAA,IAAI,EAAC;AAAjB,MADF,CADF,CADF,CADa,CAAf;AAUAH,IAAAA,MAAM,CACHP,IADH,CACQ,kBADR,EAEGG,EAFH,CAEM,CAFN,EAGGK,QAHH,CAGY,OAHZ;AAKAN,IAAAA,MAAM,CAACQ,iBAAD,CAAN,CAA0BD,UAA1B;AACA,QAAME,MAAM,GAAGD,iBAAiB,CAACE,IAAlB,CAAuBC,KAAvB,CAA6B,CAA7B,EAAgC,CAAhC,CAAf;AACAX,IAAAA,MAAM,CAACS,MAAM,CAACG,YAAP,CAAoB,CAApB,CAAD,CAAN,CAA+BT,IAA/B,CAAoC,CAApC;AACD,GArBC,CAAF;AAsBD,CAzDO,CAAR","sourcesContent":["import React from 'react';\nimport {TraceAccordion, PlotlyFold, LayoutPanel} from '..';\nimport {TextEditor} from '../../fields';\nimport {TestEditor, fixtures, mount} from 'lib/test-utils';\n\ndescribe('<TraceAccordion>', () => {\n  it('generates trace PlotlyFolds with name == text', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n\n    const folds = mount(\n      <TestEditor {...{...fixture, onUpdate: jest.fn()}}>\n        <LayoutPanel>\n          <TraceAccordion>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    ).find(PlotlyFold);\n\n    expect(folds.at(0).prop('name')).toBe('hodor');\n  });\n\n  it('can add traces', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n    const beforeAddTrace = jest.fn();\n    const editor = mount(\n      <TestEditor {...{...fixture, beforeAddTrace}}>\n        <LayoutPanel>\n          <TraceAccordion canAdd>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    );\n\n    editor.find('button.js-add-button').simulate('click');\n\n    expect(beforeAddTrace).toBeCalled();\n  });\n\n  it('can delete traces', () => {\n    const fixture = fixtures.scatter({data: [{name: 'hodor'}]});\n    const beforeDeleteTrace = jest.fn();\n    const editor = mount(\n      <TestEditor {...{...fixture, beforeDeleteTrace}}>\n        <LayoutPanel>\n          <TraceAccordion canAdd>\n            <TextEditor attr=\"name\" />\n          </TraceAccordion>\n        </LayoutPanel>\n      </TestEditor>\n    );\n\n    editor\n      .find('.js-fold__delete')\n      .at(0)\n      .simulate('click');\n\n    expect(beforeDeleteTrace).toBeCalled();\n    const update = beforeDeleteTrace.mock.calls[0][0];\n    expect(update.traceIndexes[0]).toBe(0);\n  });\n});\n"],"file":"TraceAccordion-test.js"}