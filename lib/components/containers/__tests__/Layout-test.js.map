{"version":3,"sources":["../../../../src/components/containers/__tests__/Layout-test.js"],"names":["Layouts","PlotlyPanel","PlotlyFold","PlotlySection","map","connectLayoutToPlot","Editor","props","onUpdate","jest","fn","forEach","Layout","describe","displayName","it","wrapper","fixtures","scatter","layout","height","find","NumericInput","expect","prop","toBe","beforeUpdateLayout","heightUpdate","payload","mock","calls","toEqual","update"],"mappings":";;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;AAEA,IAAMA,OAAO,GAAG,CAACC,aAAD,EAAcC,YAAd,EAA0BC,eAA1B,EAAyCC,GAAzC,CAA6CC,wBAA7C,CAAhB;;AACA,IAAMC,MAAM,GAAG,SAATA,MAAS,CAAAC,KAAK;AAAA,SAAI,6BAAC,qBAAD;AAAiBC,IAAAA,QAAQ,EAAEC,IAAI,CAACC,EAAL;AAA3B,KAAyCH,KAAzC,EAAJ;AAAA,CAApB;;AAEAP,OAAO,CAACW,OAAR,CAAgB,UAAAC,MAAM,EAAI;AACxBC,EAAAA,QAAQ,YAAKD,MAAM,CAACE,WAAZ,QAA4B,YAAM;AACxCC,IAAAA,EAAE,8DAA8D,YAAM;AACpE,UAAMC,OAAO,GAAG,mBACd,6BAAC,MAAD,EAAYC,oBAASC,OAAT,CAAiB;AAACC,QAAAA,MAAM,EAAE;AAACC,UAAAA,MAAM,EAAE;AAAT;AAAT,OAAjB,CAAZ,EACE,6BAAC,aAAD,QACE,6BAAC,MAAD,QACE,6BAAC,eAAD;AAAS,QAAA,KAAK,EAAC,QAAf;AAAwB,QAAA,GAAG,EAAE,GAA7B;AAAkC,QAAA,IAAI,EAAE,EAAxC;AAA4C,QAAA,IAAI,EAAC;AAAjD,QADF,CADF,CADF,CADc,EASbC,IATa,CASR,iBATQ,EAUbA,IAVa,CAURC,qBAVQ,CAAhB;AAWAC,MAAAA,MAAM,CAACP,OAAO,CAACQ,IAAR,CAAa,OAAb,CAAD,CAAN,CAA8BC,IAA9B,CAAmC,GAAnC;AACD,KAbC,CAAF;AAeAV,IAAAA,EAAE,gCAAgC,YAAM;AACtC,UAAMW,kBAAkB,GAAGjB,IAAI,CAACC,EAAL,EAA3B;AACA,UAAMM,OAAO,GAAG,mBACd,6BAAC,MAAD;AACE,QAAA,kBAAkB,EAAEU;AADtB,SAEMT,oBAASC,OAAT,CAAiB;AAACC,QAAAA,MAAM,EAAE;AAACC,UAAAA,MAAM,EAAE;AAAT;AAAT,OAAjB,CAFN,GAIE,6BAAC,aAAD,QACE,6BAAC,MAAD,QACE,6BAAC,eAAD;AAAS,QAAA,KAAK,EAAC,QAAf;AAAwB,QAAA,GAAG,EAAE,GAA7B;AAAkC,QAAA,IAAI,EAAE,EAAxC;AAA4C,QAAA,IAAI,EAAC;AAAjD,QADF,CADF,CAJF,CADc,EAYbC,IAZa,CAYR,iBAZQ,EAabA,IAba,CAaRC,qBAbQ,CAAhB;AAeA,UAAMK,YAAY,GAAG,GAArB;AACAX,MAAAA,OAAO,CAACQ,IAAR,CAAa,UAAb,EAAyBG,YAAzB;AACA,UAAMC,OAAO,GAAGF,kBAAkB,CAACG,IAAnB,CAAwBC,KAAxB,CAA8B,CAA9B,EAAiC,CAAjC,CAAhB;AACAP,MAAAA,MAAM,CAACK,OAAD,CAAN,CAAgBG,OAAhB,CAAwB;AAACC,QAAAA,MAAM,EAAE;AAACZ,UAAAA,MAAM,EAAEO;AAAT;AAAT,OAAxB;AACD,KArBC,CAAF;AAsBD,GAtCO,CAAR;AAuCD,CAxCD","sourcesContent":["import {Numeric} from '../../fields';\nimport {PlotlyFold, PlotlyPanel, PlotlySection} from '..';\nimport NumericInput from '../../widgets/NumericInput';\nimport React from 'react';\nimport {TestEditor, fixtures} from 'lib/test-utils';\nimport {connectLayoutToPlot} from 'lib';\nimport {mount} from 'enzyme';\n\nconst Layouts = [PlotlyPanel, PlotlyFold, PlotlySection].map(connectLayoutToPlot);\nconst Editor = props => <TestEditor {...{onUpdate: jest.fn(), ...props}} />;\n\nLayouts.forEach(Layout => {\n  describe(`<${Layout.displayName}>`, () => {\n    it(`wraps container with fullValue pointing to gd._fullLayout`, () => {\n      const wrapper = mount(\n        <Editor {...fixtures.scatter({layout: {height: 100}})}>\n          <PlotlyPanel>\n            <Layout>\n              <Numeric label=\"Height\" min={100} step={10} attr=\"height\" />\n            </Layout>\n          </PlotlyPanel>\n        </Editor>\n      )\n        .find('[attr=\"height\"]')\n        .find(NumericInput);\n      expect(wrapper.prop('value')).toBe(100);\n    });\n\n    it(`sends updates to gd._layout`, () => {\n      const beforeUpdateLayout = jest.fn();\n      const wrapper = mount(\n        <Editor\n          beforeUpdateLayout={beforeUpdateLayout}\n          {...fixtures.scatter({layout: {height: 100}})}\n        >\n          <PlotlyPanel>\n            <Layout>\n              <Numeric label=\"Height\" min={100} step={10} attr=\"height\" />\n            </Layout>\n          </PlotlyPanel>\n        </Editor>\n      )\n        .find('[attr=\"height\"]')\n        .find(NumericInput);\n\n      const heightUpdate = 200;\n      wrapper.prop('onChange')(heightUpdate);\n      const payload = beforeUpdateLayout.mock.calls[0][0];\n      expect(payload).toEqual({update: {height: heightUpdate}});\n    });\n  });\n});\n"],"file":"Layout-test.js"}