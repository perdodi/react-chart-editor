{"version":3,"sources":["../../../src/components/containers/ShapeAccordion.js"],"names":["ShapeFold","PlotlyFold","ShapeAccordion","context","layout","shapes","_","localize","props","canAdd","children","canReorder","content","length","map","shp","i","addAction","label","handler","updateContainer","shapeIndex","Array","isArray","key","value","line","color","COLORS","charcoal","fillcolor","middleGray","opacity","Component","contextTypes","PropTypes","object","func","propTypes","node","bool"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEA,IAAMA,SAAS,GAAG,+BAAqBC,mBAArB,CAAlB;;IAEMC,c;;;;;;;;;;;;;6BACK;AAAA,0BAIH,KAAKC,OAJF;AAAA,gDAELC,MAFK,CAEIC,MAFJ;AAAA,UAEIA,MAFJ,sCAEa,EAFb;AAAA,UAGKC,CAHL,iBAGLC,QAHK;AAAA,wBAKgC,KAAKC,KALrC;AAAA,UAKAC,MALA,eAKAA,MALA;AAAA,UAKQC,QALR,eAKQA,QALR;AAAA,UAKkBC,UALlB,eAKkBA,UALlB;AAOP,UAAMC,OAAO,GACXP,MAAM,CAACQ,MAAP,IACAR,MAAM,CAACS,GAAP,CAAW,UAACC,GAAD,EAAMC,CAAN;AAAA,eACT,6BAAC,SAAD;AAAW,UAAA,GAAG,EAAEA,CAAhB;AAAmB,UAAA,UAAU,EAAEA,CAA/B;AAAkC,UAAA,IAAI,YAAKV,CAAC,CAAC,OAAD,CAAN,cAAmBU,CAAC,GAAG,CAAvB,CAAtC;AAAkE,UAAA,SAAS,EAAEP;AAA7E,WACGC,QADH,CADS;AAAA,OAAX,CAFF;AAQA,UAAMO,SAAS,GAAG;AAChBC,QAAAA,KAAK,EAAEZ,CAAC,CAAC,OAAD,CADQ;AAEhBa,QAAAA,OAAO,EAAE,uBAA+B;AAAA,cAA7Bf,MAA6B,QAA7BA,MAA6B;AAAA,cAArBgB,eAAqB,QAArBA,eAAqB;AACtC,cAAIC,UAAJ;;AACA,cAAIC,KAAK,CAACC,OAAN,CAAcnB,MAAM,CAACC,MAArB,CAAJ,EAAkC;AAChCgB,YAAAA,UAAU,GAAGjB,MAAM,CAACC,MAAP,CAAcQ,MAA3B;AACD,WAFD,MAEO;AACLQ,YAAAA,UAAU,GAAG,CAAb;AACD;;AAED,cAAMG,GAAG,oBAAaH,UAAb,MAAT;AACA,cAAMI,KAAK,GAAG;AACZC,YAAAA,IAAI,EAAE;AAACC,cAAAA,KAAK,EAAEC,kBAAOC;AAAf,aADM;AAEZC,YAAAA,SAAS,EAAEF,kBAAOG,UAFN;AAGZC,YAAAA,OAAO,EAAE;AAHG,WAAd;;AAMA,cAAIZ,eAAJ,EAAqB;AACnBA,YAAAA,eAAe,qBAAGI,GAAH,EAASC,KAAT,EAAf;AACD;AACF;AApBe,OAAlB;AAuBA,aACE,6BAAC,oBAAD;AAAa,QAAA,SAAS,EAAEhB,MAAM,GAAGQ,SAAH,GAAe,IAA7C;AAAmD,QAAA,UAAU,EAAEN;AAA/D,SACGC,OAAO,GACNA,OADM,GAGN,6BAAC,wBAAD;AAAc,QAAA,OAAO,EAAEN,CAAC,CAAC,iCAAD;AAAxB,SACE,wCACGA,CAAC,CACA,kGADA,CADJ,CADF,EAME,wCAAIA,CAAC,CAAC,6CAAD,CAAL,CANF,CAJJ,CADF;AAgBD;;;;EAvD0B2B,gB;;AA0D7B/B,cAAc,CAACgC,YAAf,GAA8B;AAC5B9B,EAAAA,MAAM,EAAE+B,mBAAUC,MADU;AAE5B7B,EAAAA,QAAQ,EAAE4B,mBAAUE;AAFQ,CAA9B;AAKAnC,cAAc,CAACoC,SAAf,GAA2B;AACzB5B,EAAAA,QAAQ,EAAEyB,mBAAUI,IADK;AAEzB9B,EAAAA,MAAM,EAAE0B,mBAAUK,IAFO;AAGzB7B,EAAAA,UAAU,EAAEwB,mBAAUK;AAHG,CAA3B;eAMetC,c","sourcesContent":["import PlotlyFold from './PlotlyFold';\nimport {LayoutPanel} from './derived';\nimport PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {connectShapeToLayout} from 'lib';\nimport {COLORS} from 'lib/constants';\nimport {PanelMessage} from './PanelEmpty';\n\nconst ShapeFold = connectShapeToLayout(PlotlyFold);\n\nclass ShapeAccordion extends Component {\n  render() {\n    const {\n      layout: {shapes = []},\n      localize: _,\n    } = this.context;\n    const {canAdd, children, canReorder} = this.props;\n\n    const content =\n      shapes.length &&\n      shapes.map((shp, i) => (\n        <ShapeFold key={i} shapeIndex={i} name={`${_('Shape')} ${i + 1}`} canDelete={canAdd}>\n          {children}\n        </ShapeFold>\n      ));\n\n    const addAction = {\n      label: _('Shape'),\n      handler: ({layout, updateContainer}) => {\n        let shapeIndex;\n        if (Array.isArray(layout.shapes)) {\n          shapeIndex = layout.shapes.length;\n        } else {\n          shapeIndex = 0;\n        }\n\n        const key = `shapes[${shapeIndex}]`;\n        const value = {\n          line: {color: COLORS.charcoal},\n          fillcolor: COLORS.middleGray,\n          opacity: 0.3,\n        };\n\n        if (updateContainer) {\n          updateContainer({[key]: value});\n        }\n      },\n    };\n\n    return (\n      <LayoutPanel addAction={canAdd ? addAction : null} canReorder={canReorder}>\n        {content ? (\n          content\n        ) : (\n          <PanelMessage heading={_('Lines, Rectangles and Ellipses.')}>\n            <p>\n              {_(\n                'Add shapes to a figure to highlight points or periods in time, thresholds, or areas of interest.'\n              )}\n            </p>\n            <p>{_('Click on the + button above to add a shape.')}</p>\n          </PanelMessage>\n        )}\n      </LayoutPanel>\n    );\n  }\n}\n\nShapeAccordion.contextTypes = {\n  layout: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nShapeAccordion.propTypes = {\n  children: PropTypes.node,\n  canAdd: PropTypes.bool,\n  canReorder: PropTypes.bool,\n};\n\nexport default ShapeAccordion;\n"],"file":"ShapeAccordion.js"}