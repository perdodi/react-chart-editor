{"version":3,"sources":["../../src/lib/localize.js"],"names":["localize","Comp","LocalizedComponent","props","context","dictionaries","locale","str","localizeString","Component","displayName","contextTypes","PropTypes","object","string","plotly_editor_traits","key","dict","hasOwnProperty"],"mappings":";;;;;;;;AAAA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAEe,SAASA,QAAT,CAAkBC,IAAlB,EAAwB;AAAA,MAC/BC,kBAD+B;AAAA;AAAA;AAAA;;AAEnC,gCAAYC,KAAZ,EAAmBC,OAAnB,EAA4B;AAAA;;AAAA;;AAC1B,8FAAMD,KAAN,EAAaC,OAAb;AAEA,UAAMC,YAAY,GAAGD,OAAO,CAACC,YAA7B;AACA,UAAMC,MAAM,GAAGF,OAAO,CAACE,MAAvB;;AAEA,YAAKN,QAAL,GAAgB,SAASA,QAAT,CAAkBO,GAAlB,EAAuB;AACrC,eAAOC,cAAc,CAACH,YAAD,EAAeC,MAAf,EAAuBC,GAAvB,CAArB;AACD,OAFD;;AAN0B;AAS3B;;AAXkC;AAAA;AAAA,+BAa1B;AACP,eAAO,6BAAC,IAAD;AAAM,UAAA,QAAQ,EAAE,KAAKP;AAArB,WAAmC,KAAKG,KAAxC,EAAP;AACD;AAfkC;;AAAA;AAAA,IACJM,gBADI;;AAiBrCP,EAAAA,kBAAkB,CAACQ,WAAnB,sBAA6C,sBAAeT,IAAf,CAA7C;AACAC,EAAAA,kBAAkB,CAACS,YAAnB,GAAkCT,kBAAkB,CAACS,YAAnB,IAAmC,EAArE;AACAT,EAAAA,kBAAkB,CAACS,YAAnB,CAAgCN,YAAhC,GAA+CO,mBAAUC,MAAzD;AACAX,EAAAA,kBAAkB,CAACS,YAAnB,CAAgCL,MAAhC,GAAyCM,mBAAUE,MAAnD;AAEAZ,EAAAA,kBAAkB,CAACa,oBAAnB,GAA0Cd,IAAI,CAACc,oBAA/C;AAEA,SAAOb,kBAAP;AACD;;AAEM,SAASM,cAAT,CAAwBH,YAAxB,EAAsCC,MAAtC,EAA8CU,GAA9C,EAAmD;AACxD,MAAMC,IAAI,GAAGZ,YAAY,CAACC,MAAD,CAAzB;;AACA,MAAIW,IAAI,IAAIA,IAAI,CAACC,cAAL,CAAoBF,GAApB,CAAZ,EAAsC;AACpC,WAAOC,IAAI,CAACD,GAAD,CAAX;AACD;;AACD,SAAOA,GAAP;AACD","sourcesContent":["import PropTypes from 'prop-types';\nimport React, {Component} from 'react';\nimport {getDisplayName} from 'lib';\n\nexport default function localize(Comp) {\n  class LocalizedComponent extends Component {\n    constructor(props, context) {\n      super(props, context);\n\n      const dictionaries = context.dictionaries;\n      const locale = context.locale;\n\n      this.localize = function localize(str) {\n        return localizeString(dictionaries, locale, str);\n      };\n    }\n\n    render() {\n      return <Comp localize={this.localize} {...this.props} />;\n    }\n  }\n  LocalizedComponent.displayName = `Localized${getDisplayName(Comp)}`;\n  LocalizedComponent.contextTypes = LocalizedComponent.contextTypes || {};\n  LocalizedComponent.contextTypes.dictionaries = PropTypes.object;\n  LocalizedComponent.contextTypes.locale = PropTypes.string;\n\n  LocalizedComponent.plotly_editor_traits = Comp.plotly_editor_traits;\n\n  return LocalizedComponent;\n}\n\nexport function localizeString(dictionaries, locale, key) {\n  const dict = dictionaries[locale];\n  if (dict && dict.hasOwnProperty(key)) {\n    return dict[key];\n  }\n  return key;\n}\n"],"file":"localize.js"}