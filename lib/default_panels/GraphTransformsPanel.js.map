{"version":3,"sources":["../../src/default_panels/GraphTransformsPanel.js"],"names":["AggregationSection","PlotlySection","Aggregations","context","fullContainer","aggregations","_","localize","length","filter","aggr","target","match","map","i","label","value","Component","plotly_editor_traits","no_visibility_forcing","contextTypes","PropTypes","object","func","GraphTransformsPanel","props","t","TRANSFORMABLE_TRACES","includes","type"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\nimport PropTypes from 'prop-types';\nimport {\n  Radio,\n  TransformAccordion,\n  TraceAccordion,\n  DataSelector,\n  Dropdown,\n  PlotlySection,\n  FilterOperation,\n  FilterValue,\n} from '../components';\nimport {connectAggregationToTransform} from '../lib';\nimport {TRANSFORMABLE_TRACES} from 'lib/constants';\n\nconst AggregationSection = connectAggregationToTransform(PlotlySection);\n\nexport class Aggregations extends Component {\n  render() {\n    const {\n      fullContainer: {aggregations = []},\n    } = this.context;\n    const {localize: _} = this.context;\n    if (aggregations.length === 0) {\n      return null;\n    }\n\n    return (\n      <PlotlySection name={_('Aggregations')} attr=\"aggregations\">\n        {aggregations\n          .filter(aggr => aggr.target && aggr.target.match(/transforms\\[\\d*\\]\\./gi) === null)\n          .map(({target}, i) => (\n            <AggregationSection show key={i} aggregationIndex={i}>\n              <Dropdown\n                attr=\"func\"\n                label={target}\n                options={[\n                  {label: _('Count'), value: 'count'},\n                  {label: _('Sum'), value: 'sum'},\n                  {label: _('Average'), value: 'avg'},\n                  {label: _('Median'), value: 'median'},\n                  {label: _('Mode'), value: 'mode'},\n                  {label: _('RMS'), value: 'rms'},\n                  {label: _('Standard Deviation'), value: 'stddev'},\n                  {label: _('Min'), value: 'min'},\n                  {label: _('Max'), value: 'max'},\n                  {label: _('First'), value: 'first'},\n                  {label: _('Last'), value: 'last'},\n                  {label: _('Change'), value: 'change'},\n                  {label: _('Range'), value: 'range'},\n                ]}\n                clearable={false}\n              />\n            </AggregationSection>\n          ))}\n      </PlotlySection>\n    );\n  }\n}\n\nAggregations.plotly_editor_traits = {no_visibility_forcing: true};\nAggregations.contextTypes = {\n  fullContainer: PropTypes.object,\n  localize: PropTypes.func,\n};\n\nconst GraphTransformsPanel = (props, {localize: _}) => {\n  return (\n    <TraceAccordion traceFilterCondition={t => TRANSFORMABLE_TRACES.includes(t.type)}>\n      <TransformAccordion>\n        <Radio\n          attr=\"enabled\"\n          options={[\n            {label: _('Enabled'), value: true},\n            {label: _('Disabled'), value: false},\n          ]}\n        />\n\n        <DataSelector label={_('By')} attr=\"groups\" />\n\n        <DataSelector label={_('Target')} attr=\"target\" />\n        <FilterOperation label={_('Operator')} attr=\"operation\" />\n        <FilterValue label={_('Value')} attr=\"value\" />\n\n        <Radio\n          attr=\"order\"\n          options={[\n            {label: _('Ascending'), value: 'ascending'},\n            {label: _('Descending'), value: 'descending'},\n          ]}\n        />\n\n        <Aggregations />\n      </TransformAccordion>\n    </TraceAccordion>\n  );\n};\n\nGraphTransformsPanel.contextTypes = {\n  localize: PropTypes.func,\n};\n\nexport default GraphTransformsPanel;\n"],"file":"GraphTransformsPanel.js"}